(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[426],{6712:(e,t,n)=>{Promise.resolve().then(n.bind(n,3069)),Promise.resolve().then(n.t.bind(n,8173,23))},3069:(e,t,n)=>{"use strict";n.d(t,{PhotoDetailClient:()=>m});var i=n(5155),s=n(2115),o=n(5565),r=n(8173),a=n.n(r),l=n(4085),c=n(7401);let d=(0,c.A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),u=(0,c.A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var h=n(9354);function m(e){let{photo:t,prevPhoto:n,nextPhoto:r,category:c}=e,[m,x]=(0,s.useState)(!1),f=t.dimensions?"".concat(t.dimensions.width," / ").concat(t.dimensions.height):"auto",v=!!t.dimensions&&t.dimensions.height>t.dimensions.width;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"lg:col-span-2 flex flex-col",children:[(0,i.jsx)("div",{className:"".concat(v?"flex justify-center":""),children:(0,i.jsx)("div",{className:"\n              relative overflow-hidden rounded-lg cursor-pointer\n              ".concat(v?"max-h-[75vh] max-w-[90%] sm:max-w-[80%] md:max-w-[70%] lg:max-w-[65%] mx-auto":"max-h-[80vh] w-full","\n            "),style:{aspectRatio:f,height:v?"85vh":"auto",minHeight:"400px"},onClick:()=>x(!0),children:(0,i.jsx)(o.default,{src:t.src||"/placeholder.svg",alt:t.alt,fill:!0,className:"object-contain",priority:!0,sizes:v?"(max-width: 768px) 90vw, (max-width: 1200px) 60vw, 40vw":"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"})})}),(0,i.jsxs)("div",{className:"flex justify-between mt-4 ".concat(v?"w-full px-4 md:px-8 lg:px-12":""),children:[n?(0,i.jsx)(a(),{href:"/photos/".concat(n.category,"/").concat(n.id),children:(0,i.jsxs)(l.$,{variant:"outline",size:"sm",children:[(0,i.jsx)(d,{size:16,className:"mr-2"}),"Previous"]})}):(0,i.jsx)("div",{}),r?(0,i.jsx)(a(),{href:"/photos/".concat(r.category,"/").concat(r.id),children:(0,i.jsxs)(l.$,{variant:"outline",size:"sm",children:["Next",(0,i.jsx)(u,{size:16,className:"ml-2"})]})}):(0,i.jsx)("div",{})]})]}),(0,i.jsx)(h.V,{photo:t,isOpen:m,onClose:()=>x(!1)})]})}},9354:(e,t,n)=>{"use strict";n.d(t,{V:()=>u});var i=n(5155),s=n(2115),o=n(5565),r=n(3473),a=n(6527),l=n(767),c=n(5683),d=n(778);function u(e){let{photo:t,isOpen:n,onClose:u}=e,[h,m]=(0,s.useState)(1),[x,f]=(0,s.useState)({x:0,y:0}),[v,g]=(0,s.useState)(!1),[b,p]=(0,s.useState)({x:0,y:0}),[y,w]=(0,s.useState)(!1),j=(0,s.useRef)(null),k=(0,s.useRef)(null);(0,s.useEffect)(()=>{if(f({x:0,y:0}),h>1){w(!0);let e=setTimeout(()=>{w(!1)},2e3);return()=>clearTimeout(e)}},[h,n]),(0,s.useEffect)(()=>{let e=e=>{"Escape"===e.key?u():"+"===e.key||"="===e.key?m(e=>Math.min(e+1,3)):("-"===e.key||"_"===e.key)&&m(e=>Math.max(e-1,1))};return n&&window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[n,u]),t.dimensions&&"".concat(t.dimensions.width," / ").concat(t.dimensions.height);let N=(e,n)=>{if(!j.current||!k.current)return{x:e,y:n};let i=k.current.getBoundingClientRect(),s=i.width,o=i.height,r=t.dimensions?o*(t.dimensions.width/t.dimensions.height):s,a=t.dimensions?s*(t.dimensions.height/t.dimensions.width):o,l=Math.max(0,(r*h-s)/2+.2*s),c=Math.max(0,(a*h-o)/2+.2*o);return{x:Math.min(Math.max(e,-l),l),y:Math.min(Math.max(n,-c),c)}},M=h>1?v?"cursor-grabbing":"cursor-grab":"";return(0,i.jsx)(c.N,{children:n&&(0,i.jsx)(d.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm",onClick:u,children:(0,i.jsxs)(d.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"relative w-full h-full max-w-[95vw] max-h-[95vh]",onClick:e=>e.stopPropagation(),ref:k,children:[(0,i.jsxs)("div",{className:"relative overflow-hidden w-full h-full",onMouseDown:e=>{h>1&&(g(!0),p({x:e.clientX-x.x,y:e.clientY-x.y}))},onMouseMove:e=>{v&&h>1&&f(N(e.clientX-b.x,e.clientY-b.y))},onMouseUp:()=>{g(!1)},onMouseLeave:()=>{g(!1)},onTouchStart:e=>{if(h>1&&1===e.touches.length){g(!0);let t=e.touches[0];p({x:t.clientX-x.x,y:t.clientY-x.y})}},onTouchMove:e=>{if(v&&h>1&&1===e.touches.length){e.preventDefault();let t=e.touches[0];f(N(t.clientX-b.x,t.clientY-b.y))}},onTouchEnd:()=>{g(!1)},ref:j,children:[(0,i.jsx)("div",{style:{transform:h>1?"translate(".concat(x.x,"px, ").concat(x.y,"px) scale(").concat(h,")"):"none",transition:v?"none":"transform 0.1s ease-out",width:"100%",height:"100%",position:"relative",transformOrigin:"center"},children:(0,i.jsx)(o.default,{src:t.src||"/placeholder.svg",alt:t.alt,fill:!0,className:"".concat("object-contain"," ").concat(M),sizes:"95vw",priority:!0,quality:90,draggable:!1})}),y&&h>1&&(0,i.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-background/80 text-foreground px-4 py-2 rounded-full shadow-lg backdrop-blur-sm text-sm font-medium animate-fade-out pointer-events-none",children:"Click and drag to pan"})]}),(0,i.jsxs)("div",{className:"absolute bottom-4 left-4 bg-background/80 text-foreground px-3 py-1 rounded-full shadow-lg backdrop-blur-sm text-sm font-medium",children:[h.toFixed(1),"x"]}),(0,i.jsx)("button",{onClick:()=>{m(e=>Math.min(e+1,3))},className:"absolute bottom-4 right-4 flex h-10 w-10 items-center justify-center rounded-full bg-background/80 text-foreground shadow-lg hover:bg-background transition-colors backdrop-blur-sm disabled:opacity-50","aria-label":"Zoom in",disabled:h>=3,children:(0,i.jsx)(r.A,{size:20})}),(0,i.jsx)("button",{onClick:()=>{m(e=>Math.max(e-1,1))},className:"absolute bottom-4 right-16 flex h-10 w-10 items-center justify-center rounded-full bg-background/80 text-foreground shadow-lg hover:bg-background transition-colors backdrop-blur-sm disabled:opacity-50","aria-label":"Zoom out",disabled:h<=1,children:(0,i.jsx)(a.A,{size:20})}),(0,i.jsx)("button",{onClick:u,className:"absolute top-4 right-4 flex h-10 w-10 items-center justify-center rounded-full bg-background/80 text-foreground shadow-lg hover:bg-background transition-colors backdrop-blur-sm","aria-label":"Close fullscreen view",children:(0,i.jsx)(l.A,{size:20})})]})})})}},4085:(e,t,n)=>{"use strict";n.d(t,{$:()=>c});var i=n(5155),s=n(2115),o=n(2317),r=n(1027),a=n(9602);let l=(0,r.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:n,variant:s,size:r,asChild:c=!1,...d}=e,u=c?o.DX:"button";return(0,i.jsx)(u,{className:(0,a.cn)(l({variant:s,size:r,className:n})),ref:t,...d})});c.displayName="Button"},9602:(e,t,n)=>{"use strict";n.d(t,{cn:()=>o});var i=n(3463),s=n(9795);function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.QP)((0,i.$)(t))}},1027:(e,t,n)=>{"use strict";n.d(t,{F:()=>r});var i=n(3463);let s=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,o=i.$,r=(e,t)=>n=>{var i;if((null==t?void 0:t.variants)==null)return o(e,null==n?void 0:n.class,null==n?void 0:n.className);let{variants:r,defaultVariants:a}=t,l=Object.keys(r).map(e=>{let t=null==n?void 0:n[e],i=null==a?void 0:a[e];if(null===t)return null;let o=s(t)||s(i);return r[e][o]}),c=n&&Object.entries(n).reduce((e,t)=>{let[n,i]=t;return void 0===i||(e[n]=i),e},{});return o(e,l,null==t?void 0:null===(i=t.compoundVariants)||void 0===i?void 0:i.reduce((e,t)=>{let{class:n,className:i,...s}=t;return Object.entries(s).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...a,...c}[t]):({...a,...c})[t]===n})?[...e,n,i]:e},[]),null==n?void 0:n.class,null==n?void 0:n.className)}}},e=>{var t=t=>e(e.s=t);e.O(0,[970,173,181,478,403,441,517,358],()=>t(6712)),_N_E=e.O()}]);